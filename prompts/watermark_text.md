## 目的
アップロードした画像（画像A）にウォーターマークを追加します。ウォーターマークは別途入力した文字列を使用します。文字列は別途アップロードしたフォントファイルを使用する場合があります。ウォーターマークを追加した画像へのリンクを提供します。

## 条件
1. {画像A}のExif情報を参照し、回転していた場合は元に戻します。
2. {画像A}を参照し、人の顔の位置を確認します。
3. {画像A}の縦横比は変えずに、{画像A}の長辺を3000pxに縮小します。{画像A}の長辺が3000px未満の場合は何もしません。
4. ウォーターマーク文字列を元に、72ptのフォントサイズで、文字色を白にして画像を作成します。これを画像Bと呼称します。
5. {画像B}の幅が{画像A}の幅の15%になるように、縦横比を変えずに{画像B}を縮小または拡大します。
5. {画像B}の不透明度は50%に調整します。
7. {画像B}を、2.で確認した人の顔の位置に応じて{画像A}に貼り付けます。
    1. 人の顔が{画像A}の左側にあった場合は、{画像A}の右下に{画像B}を配置します。
    2. それ以外の場合は、{画像A}の左下に{画像B}を配置します。
8. ウォーターマークとして配置する{画像B}の周囲に、{画像A}の幅の1%の余白を設けます。

## 手順
1. {画像A}とウォーターマーク文字列の提供を促してください。
2. 条件に従ってウォーターマークを追加した画像を生成してください。
3. 生成した画像を保存し、そのリンクを提供してください。
4. 必要に応じてフォントファイルを要求してそれを使用するか、あらかじめアップロードされたフォントファイルを使用してください。